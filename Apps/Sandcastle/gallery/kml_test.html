<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta name="description" content="A simple KML example.">
    <meta name="cesium-sandcastle-labels" content="Showcases, DataSources">
    <title>Cesium Demo</title>
    <script type="text/javascript" src="../Sandcastle-header.js"></script>
    <script type="text/javascript" src="../../../ThirdParty/requirejs-2.1.20/require.js"></script>
    <script type="text/javascript">
    require.config({
        baseUrl : '../../../Source',
        waitSeconds : 60
    });
    </script>
</head>
<body class="sandcastle-loading" data-sandcastle-bucket="bucket-requirejs.html">
<style>
    @import url(../templates/bucket.css);
</style>
<div id="cesiumContainer" class="fullSize"></div>
<div id="loadingOverlay"><h1>Loading...</h1></div>
<div id="toolbar"></div>

<script id="cesium_sandcastle_script">
function startup(Cesium) {
    'use strict';
//Sandcastle_Begin
Cesium.BingMapsApi.defaultKey ='vlntCxcuDuyQ7wff48Jk~Mcg7sY2KSD4-G4VRrmy0vw~AuNEKdTYhEdUa_BKwprY-oYMDb1C3Dfr5u_DkIOwOjlG0F5Qu5WResZI07iuji0P';
var viewer = new Cesium.Viewer('cesiumContainer');
//viewer.infoBox.frame.sandbox = "allow-same-origin allow-top-navigation allow-pointer-lock allow-popups allow-forms allow-scripts";
var options = {
    camera : viewer.scene.camera,
    canvas : viewer.scene.canvas
};

var trackarr = [ 
                        -155.1992025222228, 
                       19.36782313649541
                    , 
                    
                       -155.1992025804509, 
                       19.367827475746235
                    , 
                    
                       -155.19920263867897, 
                       19.367831814997057
                    , 
                    
                       -155.1992026969071, 
                       19.36783615424788
                    , 
                    
                       -155.19920275513525, 
                       19.367840493498697
                    , 
                    
                       -155.1992028133634, 
                       19.36784483274952
                    , 
                    
                       -155.19920744371072, 
                       19.367849116737787
                    , 
                    
                       -155.19921207405832, 
                       19.367853400725924
                    , 
                    
                       -155.19921670440615, 
                       19.36785768471391
                    , 
                    
                       -155.19922133475424, 
                       19.36786196870176
                    , 
                    
                       -155.19922596510253, 
                       19.367866252689463
                    , 
                    
                       -155.1992260233314, 
                       19.3678705919402
                    , 
                    
                       -155.19923065368008, 
                       19.36787487592774
                    , 
                    
                       -155.199235284029, 
                       19.367879159915137
                    , 
                    
                       -155.19923534225813, 
                       19.367883499165842
                    , 
                    
                       -155.19923997260744, 
                       19.367887783153083
                    , 
                    
                       -155.199244602957, 
                       19.367892067140183
                    , 
                    
                       -155.1992492333068, 
                       19.36789635112714
                    , 
                    
                       -155.19925386365685, 
                       19.367900635113944
                    , 
                    
                       -155.19925392188654, 
                       19.367904974364578
                    , 
                    
                       -155.19925398011623, 
                       19.367909313615215
                    , 
                    
                       -155.19925403834597, 
                       19.36791365286585
                    , 
                    
                       -155.19925409657571, 
                       19.36791799211648
                    , 
                    
                       -155.19925872692653, 
                       19.367922276103087
                    , 
                    
                       -155.19925878515645, 
                       19.3679266153537
                    , 
                    
                       -155.19925884338633, 
                       19.367930954604308
                    , 
                    
                       -155.19925890161628, 
                       19.367935293854924
                    , 
                    
                       -155.19925895984622, 
                       19.367939633105525
                    , 
                    
                       -155.19925901807616, 
                       19.367943972356134
                    , 
                    
                       -155.19925907630616, 
                       19.367948311606735
                    , 
                    
                       -155.19925913453616, 
                       19.367952650857337
                    , 
                    
                       -155.19925919276616, 
                       19.367956990107935
                    , 
                    
                       -155.19925925099616, 
                       19.36796132935853
                    , 
                    
                       -155.19925930922622, 
                       19.367965668609123
                    , 
                    
                       -155.19925936745625, 
                       19.367970007859714
                    , 
                    
                       -155.1992594256863, 
                       19.3679743471103
                    , 
                    
                       -155.1992594839164, 
                       19.367978686360896
                    , 
                    
                       -155.1992595421465, 
                       19.36798302561148
                    , 
                    
                       -155.19925960037662, 
                       19.36798736486206
                    , 
                    
                       -155.19925965860676, 
                       19.367991704112637
                    , 
                    
                       -155.19925971683688, 
                       19.367996043363213
                    , 
                    
                       -155.19925977506708, 
                       19.36800038261379
                    , 
                    
                       -155.19925983329722, 
                       19.36800472186436
                    , 
                    
                       -155.19925989152742, 
                       19.368009061114932
                    , 
                    
                       -155.19925994975765, 
                       19.368013400365502
                    , 
                    
                       -155.19926000798787, 
                       19.36801773961607
                    , 
                    
                       -155.1992600662181, 
                       19.36802207886663
                    , 
                    
                       -155.19926012444836, 
                       19.3680264181172
                    , 
                    
                       -155.19926018267864, 
                       19.36803075736776
                    , 
                    
                       -155.19926024090893, 
                       19.368035096618318
                    , 
                    
                       -155.1992602991392, 
                       19.36803943586887
                    , 
                    
                       -155.19926035736952, 
                       19.368043775119425
                    , 
                    
                       -155.19926041559987, 
                       19.368048114369973
                    , 
                    
                       -155.19926047383024, 
                       19.368052453620525
                    , 
                    
                       -155.19926053206058, 
                       19.36805679287107
                    , 
                    
                       -155.19926059029098, 
                       19.36806113212162
                    , 
                    
                       -155.19926064852135, 
                       19.368065471372155
                    , 
                    
                       -155.19926070675174, 
                       19.368069810622703
                    , 
                    
                       -155.19926533710745, 
                       19.36807409460863
                    , 
                    
                       -155.19926539533802, 
                       19.368078433859154
                    , 
                    
                       -155.19926545356861, 
                       19.368082773109673
                    , 
                    
                       -155.19926551179918, 
                       19.368087112360186
                    , 
                    
                       -155.1992655700298, 
                       19.368091451610702
                    , 
                    
                       -155.19926562826043, 
                       19.36809579086121
                    , 
                    
                       -155.1992656864911, 
                       19.368100130111724
                    , 
                    
                       -155.19926574472174, 
                       19.36810446936223
                    , 
                    
                       -155.19926580295243, 
                       19.368108808612742
                    , 
                    
                       -155.1992658611831, 
                       19.368113147863248
                    , 
                    
                       -155.19926591941382, 
                       19.36811748711375
                    , 
                    
                       -155.19926597764453, 
                       19.36812182636425
                    , 
                    
                       -155.19926603587527, 
                       19.368126165614743
                    , 
                    
                       -155.199266094106, 
                       19.368130504865242
                    , 
                    
                       -155.19926615233678, 
                       19.368134844115733
                    , 
                    
                       -155.19926621056757, 
                       19.368139183366225
                    , 
                    
                       -155.19926626879837, 
                       19.368143522616716
                    , 
                    
                       -155.19926632702916, 
                       19.3681478618672
                    , 
                    
                       -155.19926638526002, 
                       19.368152201117688
                    , 
                    
                       -155.19926644349087, 
                       19.368156540368165
                    , 
                    
                       -155.1992665017217, 
                       19.368160879618646
                    , 
                    
                       -155.1992665599526, 
                       19.368165218869123
                    , 
                    
                       -155.1992666181835, 
                       19.368169558119597
                    , 
                    
                       -155.19927124854243, 
                       19.36817384210504
                    , 
                    
                       -155.1992758789016, 
                       19.368178126090342
                    , 
                    
                       -155.1992759371328, 
                       19.368182465340784
                    , 
                    
                       -155.199275995364, 
                       19.36818680459122
                    , 
                    
                       -155.19927605359518, 
                       19.36819114384166
                    , 
                    
                       -155.19927611182644, 
                       19.368195483092098
                    
			] 



var glowingLine, glowingLine2;

Sandcastle.addToolbarMenu([{
    text : 'KML - xGDS path',
    onselect : function() {
/*var west = -155.2008;
var south = 19.3675;
var east = -155.7;
var north = 19.4;
var rectangle = Cesium.Rectangle.fromDegrees(west, south, east, north);

viewer.camera.flyTo({
    destination : rectangle});
*/

        //viewer.camera.flyHome(0);


//	var url = '../../SampleData/kml/Today.kmz';
//	var promise = Cesium.KmlDataSource.load(url,options,{
//	    proxy : new Cesium.DefaultProxy('/proxy/')});
//viewer.entities.removeAll();
		viewer.entities.remove(glowingLine);
		
  viewer.entities.remove(glowingLine2);
       var destin = viewer.dataSources.add(Cesium.KmlDataSource.load('../../SampleData/kml/Today.kmz', options));
	viewer.flyTo(destin);
//	 viewer.dataSources.add(promise);
 // viewer.flyTo(kmlData.entities);
//	var proxy = new Cesium.DefaultProxy('/proxy/');
//	 viewer.dataSources.add(Cesium.KmlDataSource.load('../../SampleData/kml/Today.kmz', options));

  }
} ,{
    text : 'Sample Sextant Path',
    onselect : function() {
        //viewer.camera.flyHome(0);
    
   // viewer.dataSources.add(Cesium.KmlDataSource.load('../../SampleData/kml/gdpPerCapita2008.kmz', options));

  viewer.entities.remove(glowingLine);

  viewer.entities.remove(glowingLine2);
 glowingLine = viewer.entities.add({
    name : 'Simulated Sextant Path',
    polyline : {
        positions : Cesium.Cartesian3.fromDegreesArray(trackarr),
        width : 5,
        material : new Cesium.PolylineGlowMaterialProperty({
            glowPower : 0.2,
            color : Cesium.Color.BLUE
        })
    }
});
 
viewer.flyTo(viewer.entities);

    }
}, {
    text : 'Current Path v/s Sextant Path',
    onselect : function() {
        viewer.dataSources.add(Cesium.KmlDataSource.load('../../SampleData/kml/Today.kmz', options))/*.then(function(dataSource){
            viewer.clock.shouldAnimate = false;
            var rider = dataSource.entities.getById('tour');
            viewer.flyTo(rider).then(function(){
                viewer.trackedEntity = rider;
                viewer.selectedEntity = viewer.trackedEntity;
                viewer.clock.multiplier = 30;
                viewer.clock.shouldAnimate = true;
            });
        });*/
  viewer.entities.remove(glowingLine);

  viewer.entities.remove(glowingLine2);
 glowingLine2 = viewer.entities.add({
    name : 'Simulated Sextant Path',
    polyline : {
        positions : Cesium.Cartesian3.fromDegreesArray(trackarr),
        width : 5,
        material : new Cesium.PolylineGlowMaterialProperty({
            glowPower : 0.2,
            color : Cesium.Color.BLUE
        })
    }
});
 
viewer.flyTo(viewer.entities);


    }
}], 'toolbar');

Sandcastle.reset = function() {
    viewer.dataSources.removeAll();
    viewer.clock.clockRange = Cesium.ClockRange.UNBOUNDED;
    viewer.clock.clockStep = Cesium.ClockStep.SYSTEM_CLOCK;
};
//Sandcastle_End
    Sandcastle.finishedLoading();
}
if (typeof Cesium !== "undefined") {
    startup(Cesium);
} else if (typeof require === "function") {
    require(["Cesium"], startup);
}
</script>
</body>
</html>
